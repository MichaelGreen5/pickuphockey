{% extends 'base.html' %}



{% block body_block %}
<div class="container">

    <div class="col-md-6 p-2">
    <h1>My Events</h1>
        <div class="p-2">
            <a type="button" class="btn btn-green" href="{% url 'OrgDash:create_event' %}">Create New Event</a>
        </div>
    </div>



    

    <div class="col-md-10 p-4">
        <div class="table-header">
            <h2>Today's Events</h2>
        </div>
        <table class="table table-hover table">
            <thead>
              <tr>
                <th scope="col"></th>
                <th scope="col">Date</th>
                <th scope="col">Time</th>
                <th scope="col">Location</th>
                <th scope="col">Recurring</th> 
              </tr>
            </thead>
            <tbody>
                {% for item in todays_events %}
              <tr>
                <th scope="row"><a href="{{item.id}}">View Event</a></th>
                <td>{{item.date}}</td>
                <td>{{item.time}}</td>
                <td>{{item.location}}</td>
                {% if item.recurring_event == True %}
                <td><a class="link-success" href="#" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Set to repeat every {{item.frequency}} days"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                  </svg></a></td>
               {% else %}
               <td><a class="link-danger" href="{% url 'OrgDash:event_update' item.pk %}" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Edit this event to make it repeat"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
              </svg></a></td>
                {% endif %} 
                {% endfor %}  
              </tr>
            </tbody>
          </table>
    </div>
   
    <div class="col-md-10 p-4">
        <div class="table-header">
            <h2>Upcoming Events</h2>
        </div>
        <table class="table table-hover table">
            <thead>
              <tr>
                <th scope="col"></th>
                <th scope="col">Date</th>
                <th scope="col">Time</th>
                <th scope="col">Location</th>
                <th scope="col">Recurring</th> 
              </tr>
            </thead>
            <tbody>
                {% for item in upcoming_events %}
              <tr>
                <th scope="row"><a href="{{item.id}}">View Event</a></th>
                <td>{{item.date}}</td>
                <td>{{item.time}}</td>
                <td>{{item.location}}</td>
                {% if item.recurring_event == True %}
                <td><a class="link-success" href="#" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Set to repeat every {{item.frequency}} days"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                  </svg></a></td>
               {% else %}
               <td><a class="link-danger" href="{% url 'OrgDash:event_update' item.pk %}" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Edit this event to make it repeat"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
                <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
              </svg></a></td>
                {% endif %} 
                {% endfor %}  
              </tr>
            </tbody>
          </table>
    </div>

      <div class="col-md-10 p-4">
        <div class="table-header">
            <h2>Past Events</h2>
        </div>
        <table class="table table-hover table">
            <thead>
                <tr>
                <th scope="col"></th>
                <th scope="col">Date</th>
                <th scope="col">Time</th>
                <th scope="col">Location</th>
                <th scope="col">Recurring</th>
                
                </tr>
            </thead>
            <tbody>
                {% for item in past_events %}
                <tr>
                <th scope="row"><a href="{{item.id}}">View Event</a></th>
                <td>{{item.date}}</td>
                <td>{{item.time}}</td>
                <td>{{item.location}}</td>
                {% if item.recurring_event == True %}
                <td><a class="link-success" href="#" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Set to repeat every {{item.frequency}} days"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-check-circle-fill" viewBox="0 0 16 16">
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-3.97-3.03a.75.75 0 0 0-1.08.022L7.477 9.417 5.384 7.323a.75.75 0 0 0-1.06 1.06L6.97 11.03a.75.75 0 0 0 1.079-.02l3.992-4.99a.75.75 0 0 0-.01-1.05z"/>
                  </svg></a></td>
                {% else %}
                <td><a class="link-danger" href="{% url 'OrgDash:event_update' item.pk %}" data-bs-toggle="tooltip" data-bs-placement="right" data-bs-title="Edit this event to make it repeat"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-x-circle-fill" viewBox="0 0 16 16">
                    <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"/>
                  </svg></a></td>
                {% endif %} 
                {% endfor %}  
                </tr>
            </tbody>
        </table>
    </div>
</div>

<script>
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]')
  const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl))
  </script>


{% endblock %}